<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      p {
        margin: 20px;
      }
    </style>
    <script src="../oneself/shake.js"></script>
    <script>
      window.onload = function () {
        var handleScroll = function () {
          const scrollTop =
            document.documentElement.scrollTop ||
            window.pageYOffset ||
            document.body.scrollTop; // 滚动条高度
          const clientHeight = document.documentElement.clientHeight; // 可视化区域高度
          const scrollHeight = document.documentElement.scrollHeight; // 页面总高度
          if (scrollHeight - scrollTop - clientHeight < 50) {
            console.log("getData");
          }
          console.log({ scrollTop, clientHeight, scrollHeight });
        };
        window.addEventListener("scroll", debounce(handleScroll, 200), false);
        // window.addEventListener("scroll", throttle(handleScroll, 1000), false);
      };
    </script>
  </head>
  <body>
    <div id="container">
      <p>p1</p>
      <p>p2</p>
      <p>p3</p>
      <p>p4</p>
      <p>p5</p>
      <p>p6</p>
      <p>p7</p>
      <p>p8</p>
      <p>p9</p>
      <p>p10</p>
      <p>p11</p>
      <p>p12</p>
      <p>p13</p>
      <p>p14</p>
      <p>p15</p>
      <p>p16</p>
      <p>p17</p>
      <p>p18</p>
      <p>p19</p>
      <p>p20</p>
      <p>p21</p>
      <p>p22</p>
      <p>p23</p>
      <p>p24</p>
      <p>p25</p>
      <p>p26</p>
      <p>p27</p>
      <p>p28</p>
      <p>p29</p>
      <p>p30</p>
      <p>p31</p>
      <p>p32</p>
      <p>p33</p>
      <p>p34</p>
      <p>p35</p>
      <p>p36</p>
      <p>p37</p>
      <p>p38</p>
      <p>p39</p>
      <p>p40</p>
      <p>p41</p>
      <p>p42</p>
      <p>p43</p>
      <p>p44</p>
      <p>p45</p>
      <p>p46</p>
      <p>p47</p>
      <p>p48</p>
      <p>p49</p>
      <p>p50</p>
    </div>
  </body>
</html>
